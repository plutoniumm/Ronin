import{C as t,a3 as e,a4 as a,a5 as s}from"./vendor-c65222e6.js";import{R as o,s as i}from"./molecular-c58642ff.js";import{k as r}from"./client_keys-40eee54c.js";const n=t({blocks:[{type:"header",data:{text:"New Note",level:1}},{type:"paragraph",data:{text:"Save Something"}}]}),l=t([]),d=new o(i,"text"),c=async()=>{console.log("[Terrelysium] Initialising...");const t=await d.get("/notes/");return console.log("[Terrelysium] Initialised."),l.set(g(t)),0},m=async t=>{const e=await d.get("/notes/"+t);return((t,e)=>{const a=Æ’("#editorOfNotes");a.dataset.id!==t&&(editor.render(e),a.setAttribute("data-id",t),a.removeAttribute("data-new"))})(t,g(e)),e},p=async(t,e=null)=>{let a=s(l);const o=a.find((e=>e.id===t));e?o?(o.title=e.blocks[0].data.text,o.date=e.time):a.push({title:e.blocks[0].data.text,id:t,date:e.time}):(delete a[o],a=a.filter(Boolean)),l.set(a);return await d.patch("/notes/"+t,{note:e?u(e):null,list:u(s(l))})},u=(t,a=r.AES_KEY)=>e.encrypt(JSON.stringify(t),a).toString(),g=(t,s=r.AES_KEY)=>JSON.parse(e.decrypt(t,s).toString(a));export{c as a,n as b,g as d,u as e,m as g,l as n,p as u};
