import{C as t,U as e,V as a,W as s}from"./vendor-31282957.js";import{R as i,s as r}from"./molecular-c58642ff.js";import{k as n}from"./client_keys-40eee54c.js";const o=t({blocks:[{type:"header",data:{text:"New Note",level:1}},{type:"paragraph",data:{text:"Save Something"}}]}),d=t([]),l=new i(r,"text",{identity:"anonymous"}),c=async()=>{console.log("[Terrelysium] Initialising...");const t=await l.get("/notes/");return console.log("[Terrelysium] Initialised."),d.set(f(t)),0},p=async t=>{const e=await l.get("/notes/"+t);return((t,e)=>{const a=ƒ("#editorOfNotes");a.dataset.id!==t&&(editor.render(e),a.setAttribute("data-id",t),a.removeAttribute("data-new"))})(t,f(e)),e},y=t=>p(t.target.dataset.id),m=async(t,e)=>{let a=s(d);e&&(a.find((e=>e.id===t))?(a.find((e=>e.id===t)).title=e.blocks[0].data.text,a.find((e=>e.id===t)).date=e.time):a.push({title:e.blocks[0].data.text,id:t,date:e.time})),d.set(a);return await l.patch("/notes/"+t,{note:e?u(e):"",list:u(s(d))})},g=async t=>{list=s(d).filter((e=>e.id!==t)),d.set(list),m(t,"");const e=ƒ("#list input[type=radio]");return e.checked=!0,y({target:{dataset:e}}),0},u=(t,a=n.AES_KEY)=>e.encrypt(JSON.stringify(t),a).toString(),f=(t,s=n.AES_KEY)=>JSON.parse(e.decrypt(t,s).toString(a));export{g as a,o as b,f as d,u as e,c as g,d as n,y as s,m as u};
