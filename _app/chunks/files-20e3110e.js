import{C as t,S as e,i as a,s,e as r,k as o,t as l,c as n,n as i,a as c,g as d,d as h,b as f,f as u,F as p,L as y,h as m,j as v,l as g,m as $,I as w,$ as x,o as b,v as j,r as L,w as N,T as S,Q as E,z as T,J as U}from"./vendor-3f6007f7.js";/* empty css                                              */import{S as I}from"./svgIcon-3fc15a01.js";const k=t({blocks:[{type:"header",data:{text:"New Note",level:1}},{type:"paragraph",data:{text:"Save Something"}}]}),z=t([]),R={"Content-Type":"application/json"},A=async()=>{const t=await fetch(serverURL+"notes/"),e=await t.json();return z.set(e),0},J=async t=>{const e=await fetch(serverURL+"notes/"+t),a=await e.json();return(t=>{const e=document.querySelector("#editorOfNotes");e.dataset.id!==t.data.id&&(editor.render(JSON.parse(t.data.body)),e.setAttribute("data-id",t.data.id),e.removeAttribute("data-new"))})({data:a}),a},O=t=>J(t.target.dataset.id),P=async(t,e)=>{const a=await fetch(serverURL+"notes/"+t,{headers:R,method:"PUT",body:JSON.stringify(e)});return(await a.json()).code},q=async t=>{const e=await fetch(serverURL+"notes/"+t,{method:"DELETE"});200===(await e.json()).code?await A():window.reload();const a=document.querySelector("#list input[type=radio]");return a.checked=!0,O({target:{dataset:a}}),0};function C(t,e,a){const s=t.slice();return s[5]=e[a],s}function D(t){let e,a,s;return{c(){e=U("circle"),a=o(),s=U("path"),this.h()},l(t){e=n(t,"circle",{cx:!0,cy:!0,r:!0},1),c(e).forEach(h),a=i(t),s=n(t,"path",{d:!0},1),c(s).forEach(h),this.h()},h(){f(e,"cx","14"),f(e,"cy","14"),f(e,"r","12"),f(s,"d","M23 23 L30 30")},m(t,r){u(t,e,r),u(t,a,r),u(t,s,r)},d(t){t&&h(e),t&&h(a),t&&h(s)}}}function F(t){let e,a,s,v,g,$,w,x,b,j,L,N,S=t[5].title+"";return{c(){e=r("input"),v=o(),g=r("label"),$=l(S),w=o(),this.h()},l(t){e=n(t,"INPUT",{type:!0,id:!0,name:!0,value:!0,class:!0}),v=i(t),g=n(t,"LABEL",{class:!0,"data-id":!0,"data-title":!0,for:!0});var a=c(g);$=d(a,S),w=i(a),a.forEach(h),this.h()},h(){f(e,"type","radio"),f(e,"id",a=t[5].id),f(e,"name","noteTitle"),e.value=s=t[5].title,f(e,"class","svelte-1f2zutr"),f(g,"class","note svelte-1f2zutr"),f(g,"data-id",x=t[5].id),f(g,"data-title",b=t[5].title),f(g,"for",j=t[5].id)},m(t,a){u(t,e,a),u(t,v,a),u(t,g,a),p(g,$),p(g,w),L||(N=y(g,"click",O),L=!0)},p(t,r){3&r&&a!==(a=t[5].id)&&f(e,"id",a),3&r&&s!==(s=t[5].title)&&(e.value=s),3&r&&S!==(S=t[5].title+"")&&m($,S),3&r&&x!==(x=t[5].id)&&f(g,"data-id",x),3&r&&b!==(b=t[5].title)&&f(g,"data-title",b),3&r&&j!==(j=t[5].id)&&f(g,"for",j)},d(t){t&&h(e),t&&h(v),t&&h(g),L=!1,N()}}}function B(t){let e,a,s,l,d,m,E,T,U;l=new I({props:{style:"flex:1",$$slots:{default:[D]},$$scope:{ctx:t}}});let k=t[1].filter(t[4]),z=[];for(let r=0;r<k.length;r+=1)z[r]=F(C(t,k,r));return{c(){e=r("div"),a=r("input"),s=o(),v(l.$$.fragment),d=o();for(let t=0;t<z.length;t+=1)z[t].c();m=g(),this.h()},l(t){e=n(t,"DIV",{class:!0,style:!0});var r=c(e);a=n(r,"INPUT",{class:!0,placeholder:!0,type:!0}),s=i(r),$(l.$$.fragment,r),r.forEach(h),d=i(t);for(let e=0;e<z.length;e+=1)z[e].l(t);m=g(),this.h()},h(){f(a,"class","newNote svelte-1f2zutr"),f(a,"placeholder","Search..."),f(a,"type","text"),f(e,"class","p-20 flex"),w(e,"border-bottom","1px solid #8882")},m(r,o){u(r,e,o),p(e,a),x(a,t[0]),p(e,s),b(l,e,null),u(r,d,o);for(let t=0;t<z.length;t+=1)z[t].m(r,o);u(r,m,o),E=!0,T||(U=y(a,"input",t[3]),T=!0)},p(t,[e]){1&e&&a.value!==t[0]&&x(a,t[0]);const s={};if(256&e&&(s.$$scope={dirty:e,ctx:t}),l.$set(s),3&e){let a;for(k=t[1].filter(t[4]),a=0;a<k.length;a+=1){const s=C(t,k,a);z[a]?z[a].p(s,e):(z[a]=F(s),z[a].c(),z[a].m(m.parentNode,m))}for(;a<z.length;a+=1)z[a].d(1);z.length=k.length}},i(t){E||(j(l.$$.fragment,t),E=!0)},o(t){L(l.$$.fragment,t),E=!1},d(t){t&&h(e),N(l),t&&h(d),S(z,t),t&&h(m),T=!1,U()}}}function M(t,e,a){let s,r;E(t,z,(t=>a(2,r=t)));let o="";T(A);return t.$$.update=()=>{4&t.$$.dirty&&a(1,s=r)},[o,s,r,function(){o=this.value,a(0,o)},t=>t.title.includes(o)]}class Q extends e{constructor(t){super(),a(this,t,M,B,s,{})}}export{Q as F,q as d,k as e,P as u};
