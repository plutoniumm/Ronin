import{C as t,$ as e,a0 as a,Z as s,S as r,i,s as l,e as n,k as o,t as c,c as d,n as f,a as h,g as u,d as p,b as m,f as y,F as g,L as v,h as $,j as x,l as w,m as b,I as S,a1 as N,o as L,v as E,r as j,w as T,T as U,Q as k,z as I,J as P}from"./vendor-3f19d308.js";/* empty css                                              */import{S as z}from"./svgIcon-a941809a.js";const J=t({blocks:[{type:"header",data:{text:"New Note",level:1}},{type:"paragraph",data:{text:"Save Something"}}]}),O=t([]),R={"Content-Type":"application/json"},A=async()=>{const t=await fetch(serverURL+"notes/"),e=await t.text();return O.set(M(e)),0},q=async t=>{const e=await fetch(serverURL+"notes/"+t),a=await e.text();return((t,e)=>{const a=document.querySelector("#editorOfNotes");a.dataset.id!==t&&(editor.render(e),a.setAttribute("data-id",t),a.removeAttribute("data-new"))})(t,M(a)),a},C=t=>q(t.target.dataset.id),D=async(t,e)=>{let a=s(O);a.find((e=>e.id===t))?(a.find((e=>e.id===t)).title=e.blocks[0].data.text,a.find((e=>e.id===t)).date=e.time):a.push({title:e.blocks[0].data.text,id:t,date:e.time}),O.set(a);const r=await fetch(serverURL+"notes/"+t,{headers:R,method:"PUT",body:JSON.stringify({note:B(e),list:B(s(O))})});return(await r.json()).code},F=async t=>{list=s(O).filter((e=>e.id!==t)),O.set(list),console.log(s(O));const e=await fetch(serverURL+"notes/"+t,{method:"DELETE",body:B(s(O))});await e.json()||console.log("err");const a=document.querySelector("#list input[type=radio]");return a.checked=!0,C({target:{dataset:a}}),0},B=t=>e.encrypt(JSON.stringify(t),"Punam@2601").toString(),M=t=>JSON.parse(e.decrypt(t,"Punam@2601").toString(a));function Q(t,e,a){const s=t.slice();return s[5]=e[a],s}function V(t){let e,a,s;return{c(){e=P("circle"),a=o(),s=P("path"),this.h()},l(t){e=d(t,"circle",{cx:!0,cy:!0,r:!0},1),h(e).forEach(p),a=f(t),s=d(t,"path",{d:!0},1),h(s).forEach(p),this.h()},h(){m(e,"cx","14"),m(e,"cy","14"),m(e,"r","12"),m(s,"d","M23 23 L30 30")},m(t,r){y(t,e,r),y(t,a,r),y(t,s,r)},d(t){t&&p(e),t&&p(a),t&&p(s)}}}function Z(t){let e,a,s,r,i,l,x,w,b,S,N,L,E=t[5].title+"";return{c(){e=n("input"),r=o(),i=n("label"),l=c(E),x=o(),this.h()},l(t){e=d(t,"INPUT",{type:!0,id:!0,name:!0,value:!0,class:!0}),r=f(t),i=d(t,"LABEL",{class:!0,"data-id":!0,"data-title":!0,for:!0});var a=h(i);l=u(a,E),x=f(a),a.forEach(p),this.h()},h(){m(e,"type","radio"),m(e,"id",a=t[5].id),m(e,"name","noteTitle"),e.value=s=t[5].title,m(e,"class","svelte-1f2zutr"),m(i,"class","note svelte-1f2zutr"),m(i,"data-id",w=t[5].id),m(i,"data-title",b=t[5].title),m(i,"for",S=t[5].id)},m(t,a){y(t,e,a),y(t,r,a),y(t,i,a),g(i,l),g(i,x),N||(L=v(i,"click",C),N=!0)},p(t,r){3&r&&a!==(a=t[5].id)&&m(e,"id",a),3&r&&s!==(s=t[5].title)&&(e.value=s),3&r&&E!==(E=t[5].title+"")&&$(l,E),3&r&&w!==(w=t[5].id)&&m(i,"data-id",w),3&r&&b!==(b=t[5].title)&&m(i,"data-title",b),3&r&&S!==(S=t[5].id)&&m(i,"for",S)},d(t){t&&p(e),t&&p(r),t&&p(i),N=!1,L()}}}function _(t){let e,a,s,r,i,l,c,u,$;r=new z({props:{style:"flex:1",$$slots:{default:[V]},$$scope:{ctx:t}}});let k=t[1].filter(t[4]),I=[];for(let n=0;n<k.length;n+=1)I[n]=Z(Q(t,k,n));return{c(){e=n("div"),a=n("input"),s=o(),x(r.$$.fragment),i=o();for(let t=0;t<I.length;t+=1)I[t].c();l=w(),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0});var n=h(e);a=d(n,"INPUT",{class:!0,placeholder:!0,type:!0}),s=f(n),b(r.$$.fragment,n),n.forEach(p),i=f(t);for(let e=0;e<I.length;e+=1)I[e].l(t);l=w(),this.h()},h(){m(a,"class","newNote svelte-1f2zutr"),m(a,"placeholder","Search..."),m(a,"type","text"),m(e,"class","p-20 flex"),S(e,"border-bottom","1px solid #8882")},m(n,o){y(n,e,o),g(e,a),N(a,t[0]),g(e,s),L(r,e,null),y(n,i,o);for(let t=0;t<I.length;t+=1)I[t].m(n,o);y(n,l,o),c=!0,u||($=v(a,"input",t[3]),u=!0)},p(t,[e]){1&e&&a.value!==t[0]&&N(a,t[0]);const s={};if(256&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s),3&e){let a;for(k=t[1].filter(t[4]),a=0;a<k.length;a+=1){const s=Q(t,k,a);I[a]?I[a].p(s,e):(I[a]=Z(s),I[a].c(),I[a].m(l.parentNode,l))}for(;a<I.length;a+=1)I[a].d(1);I.length=k.length}},i(t){c||(E(r.$$.fragment,t),c=!0)},o(t){j(r.$$.fragment,t),c=!1},d(t){t&&p(e),T(r),t&&p(i),U(I,t),t&&p(l),u=!1,$()}}}function G(t,e,a){let s,r;k(t,O,(t=>a(2,r=t)));let i="";I(A);return t.$$.update=()=>{4&t.$$.dirty&&a(1,s=r)},[i,s,r,function(){i=this.value,a(0,i)},t=>{var e;return null==(e=t.title)?void 0:e.includes(i)}]}class H extends r{constructor(t){super(),i(this,t,G,_,l,{})}}export{H as F,F as d,J as e,D as u};
