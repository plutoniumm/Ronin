import{C as t,V as e,W as a,X as s}from"./vendor-d3a7abec.js";import{R as i,s as o}from"./molecular-c58642ff.js";import{k as n}from"./client_keys-40eee54c.js";const r=t({blocks:[{type:"header",data:{text:"New Note",level:1}},{type:"paragraph",data:{text:"Save Something"}}]}),d=t([]),c=new i(o,"text",{identity:"anonymous"}),l=async()=>{console.log("[Terrelysium] Initialising...");const t=await c.get("/notes/");return console.log("[Terrelysium] Initialised."),d.set(u(t)),0},p=async t=>{console.log(t);const e=await c.get("/notes/"+t);return((t,e)=>{const a=ƒ("#editorOfNotes");a.dataset.id!==t&&(editor.render(e),a.setAttribute("data-id",t),a.removeAttribute("data-new"))})(t,u(e)),e},y=async(t,e)=>{let a=s(d);e&&(a.find((e=>e.id===t))?(a.find((e=>e.id===t)).title=e.blocks[0].data.text,a.find((e=>e.id===t)).date=e.time):a.push({title:e.blocks[0].data.text,id:t,date:e.time})),d.set(a);return await c.patch("/notes/"+t,{note:e?g(e):"",list:g(s(d))})},m=async t=>{let e=s(d).filter((e=>e.id!==t));d.set(e),y(t,"");const a=ƒ("#list input[type=radio]");return a.checked=!0,setNote({target:{dataset:a}}),0},g=(t,a=n.AES_KEY)=>e.encrypt(JSON.stringify(t),a).toString(),u=(t,s=n.AES_KEY)=>JSON.parse(e.decrypt(t,s).toString(a));export{m as a,r as b,l as c,u as d,g as e,p as g,d as n,y as u};
