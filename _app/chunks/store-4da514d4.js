import{_ as e}from"./preload-helper-9f12a5fd.js";import{C as t,V as a}from"./vendor-0140e8f9.js";import{k as s}from"./client_keys-40eee54c.js";import{R as n,c as o}from"./molecular-c58642ff.js";const r=new n("https://youtube.googleapis.com/youtube/v3","json"),l=s.YT_KEY,i=e=>r.get(`/search?part=snippet&key=${l}&q=${e}&type=video&maxResults=10`),p=async e=>{const t=`/channels?part=snippet%2CcontentDetails&id=${e.map((e=>e.id)).join("%2C")}&key=${l}`,a=await r.get(t);return(await Promise.all(a.items.map((e=>e.contentDetails.relatedPlaylists.uploads)).map((async e=>(await((e,t=10)=>r.get(`/playlistItems?part=snippet&playlistId=${e}&key=${l}&maxResults=${t}`))(e+"&order=date",4)).items.filter((e=>new Date-new Date(e.snippet.publishedAt)<=1728e5)))))).flat()},c=new n(o,"json"),m=t([]),d=async()=>{const e=await c.get("/nebula/subs");return m.set(e),0},u=t(""),y=t([]),f=e=>{const t=e.currentTarget.querySelector("a").dataset;u.set(t.url),setÂµ("id",encodeURIComponent(a(u))),window.scrollTo(0,0),document.title=t.title},w=async()=>{const t=(await e((()=>import("./channels-6ae30858.js")),void 0)).default;let s=new Array(Math.ceil(t.length/49));for(let e=0,a=s.length;e<a;e++)s[e]=t.splice(0,49);return s.forEach((e=>{p(e).then((e=>y.set([...a(y),...e||{}])))})),0};export{y as a,m as b,w as c,f as d,d as n,i as s,u as v};
