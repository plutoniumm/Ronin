import{S as e,i as r,s as n,e as t,k as a,t as o,c as s,a as l,d as c,n as i,H as d,g as h,b as m,f as u,F as p,G as f,z as g,U as v,P as E}from"../chunks/vendor-4c86575f.js";import{b as y}from"../chunks/paths-45dac81d.js";const{document:b}=v;function q(e){let r,n,g,v;return{c(){r=t("div"),n=a(),g=t("style"),v=o("*::-webkit-scrollbar {\n      display: none;\n    }\n    body {\n      background: #fff;\n      color: #000;\n    }\n    .searcher {\n      font-size: 32px;\n      padding: 10px 0;\n    }"),this.h()},l(e){r=s(e,"DIV",{id:!0}),l(r).forEach(c),n=i(e);const t=d('[data-svelte="svelte-591gb8"]',b.head);g=s(t,"STYLE",{});var a=l(g);v=h(a,"*::-webkit-scrollbar {\n      display: none;\n    }\n    body {\n      background: #fff;\n      color: #000;\n    }\n    .searcher {\n      font-size: 32px;\n      padding: 10px 0;\n    }"),a.forEach(c),t.forEach(c),this.h()},h(){m(r,"id","body")},m(t,a){u(t,r,a),e[1](r),u(t,n,a),p(b.head,g),p(g,v)},p:f,i:f,o:f,d(t){t&&c(r),e[1](null),t&&c(n),c(g)}}}function S(e,r,n){let t;const a=()=>{const e=new URLSearchParams(window.location.search).entries(),r={};for(let n of e)r[n[0]]=n[1];return r};g((()=>{fetch(serverURL+"social/google/search?q="+a().q).then((e=>e.text())).then((e=>{let r=(new DOMParser).parseFromString(e,"text/html");r.querySelectorAll("script, noscript, textarea, input, footer, header, meta, iframe, frame").forEach((e=>e.remove())),n(0,t.innerHTML=(new XMLSerializer).serializeToString(r),t),document.querySelector("#main").childNodes[0].remove(),o()}))}));const o=()=>{const e=a().q;n(0,t.innerHTML=`<form action="${y}/search"><input class="searcher" type="text" name="q" value="${e}" /></form>`+t.innerHTML.replaceAll(`http://${window.location.host}/imgres?imgurl=`,"").replaceAll("/imgres?imgurl=","").replaceAll(`http://${window.location.host}/url?q=`,"").replaceAll("/url?q=","").replaceAll("ï¿½"," "),t),document.title=e,document.querySelectorAll("img").forEach((e=>{var r;"A"===e.parentElement.parentElement.tagName&&(e.src=decodeURIComponent(null==(r=e.parentElement.parentElement.href)?void 0:r.split("&")[0])),e.src.includes("data:")&&(e.src=null)})),t.querySelectorAll("div").forEach((e=>{0===e.childNodes.length&&e.remove()})),document.querySelectorAll("h2").forEach((e=>e.parentElement.parentElement.remove())),document.head.querySelector("script").remove()};return[t,function(e){E[e?"unshift":"push"]((()=>{t=e,n(0,t)}))}]}export default class extends e{constructor(e){super(),r(this,e,S,q,n,{})}}
