import{S as s,i as e,s as t,e as r,t as a,k as n,c as l,a as c,g as o,d as i,n as h,b as f,I as m,f as d,F as u,h as p,G as v,T as g,z as w}from"../../chunks/vendor-3f19d308.js";import{d as b}from"../../chunks/yoroi-28794385.js";function y(s,e,t){const r=s.slice();return r[2]=e[t],r}function E(s){let e,t,v,g,w,y,E,j,I,k,x,D,P,S,V,A,N,T,z,C=s[2].title+"",F=s[2].by+"",G=s[1](s[2].url)+"",L=s[2].score+"",O=s[2].descendants+"",R=b(1e3*s[2].time)+"";return{c(){e=r("div"),t=r("a"),v=r("div"),g=a(C),w=a(" - "),y=r("i"),E=a(F),j=n(),I=r("span"),k=a(G),x=n(),D=r("div"),P=a(L),S=a(" points | "),V=a(O),A=a(" comments | "),N=a(R),z=n(),this.h()},l(s){e=l(s,"DIV",{class:!0,style:!0});var r=c(e);t=l(r,"A",{href:!0,class:!0});var a=c(t);v=l(a,"DIV",{class:!0});var n=c(v);g=o(n,C),w=o(n," - "),y=l(n,"I",{});var f=c(y);E=o(f,F),f.forEach(i),j=h(n),I=l(n,"SPAN",{class:!0});var m=c(I);k=o(m,G),m.forEach(i),n.forEach(i),x=h(a),D=l(a,"DIV",{class:!0});var d=c(D);P=o(d,L),S=o(d," points | "),V=o(d,O),A=o(d," comments | "),N=o(d,R),d.forEach(i),a.forEach(i),z=h(r),r.forEach(i),this.h()},h(){f(I,"class","desc svelte-iehea7"),f(v,"class","title"),f(D,"class","desc svelte-iehea7"),f(t,"href",T=s[2].url),f(t,"class","news"),f(e,"class","p-10 m-20"),m(e,"border-bottom","1px solid #ccc8")},m(s,r){d(s,e,r),u(e,t),u(t,v),u(v,g),u(v,w),u(v,y),u(y,E),u(v,j),u(v,I),u(I,k),u(t,x),u(t,D),u(D,P),u(D,S),u(D,V),u(D,A),u(D,N),u(e,z)},p(s,e){1&e&&C!==(C=s[2].title+"")&&p(g,C),1&e&&F!==(F=s[2].by+"")&&p(E,F),1&e&&G!==(G=s[1](s[2].url)+"")&&p(k,G),1&e&&L!==(L=s[2].score+"")&&p(P,L),1&e&&O!==(O=s[2].descendants+"")&&p(V,O),1&e&&R!==(R=b(1e3*s[2].time)+"")&&p(N,R),1&e&&T!==(T=s[2].url)&&f(t,"href",T)},d(s){s&&i(e)}}}function j(s){let e,t=s[0],a=[];for(let r=0;r<t.length;r+=1)a[r]=E(y(s,t,r));return{c(){e=r("section");for(let s=0;s<a.length;s+=1)a[s].c()},l(s){e=l(s,"SECTION",{});var t=c(e);for(let e=0;e<a.length;e+=1)a[e].l(t);t.forEach(i)},m(s,t){d(s,e,t);for(let r=0;r<a.length;r+=1)a[r].m(e,null)},p(s,[r]){if(3&r){let n;for(t=s[0],n=0;n<t.length;n+=1){const l=y(s,t,n);a[n]?a[n].p(l,r):(a[n]=E(l),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=t.length}},i:v,o:v,d(s){s&&i(e),g(a,s)}}}const I="https://hacker-news.firebaseio.com/v0/";function k(s,e,t){let r=[];w((()=>{fetch(I+"topstories.json?print=pretty").then((s=>s.json())).then((s=>{Promise.all(s.slice(0,40).map((s=>fetch(I+"item/"+s+".json?print=pretty")))).then((s=>Promise.all(s.map((s=>s.json()))))).then((s=>{s.map((s=>({title:s.title,by:s.by,descendants:s.descendants,score:s.score,url:s.url,time:s.time}))),t(0,r=s)}))}))}));return[r,s=>{let e="";if(s){return e=new URL(s).hostname,e.includes("www")&&(e=e.replace("www.","")),`(${e})`}return e}]}export default class extends s{constructor(s){super(),e(this,s,k,j,t,{})}}
