import{S as e,i as t,s,e as l,t as a,k as r,c as n,a as c,g as h,d as o,n as i,b as f,f as d,F as m,h as u,T as g,G as p,z as w}from"../../../chunks/vendor-3f6007f7.js";function v(e,t,s){const l=e.slice();return l[3]=t[s],l}function I(e,t,s){const l=e.slice();return l[6]=t[s],l}function b(e){let t,s,g,p,w,v,I,b,E=e[6].data.title.replace(/TIL/g,"")+"";return{c(){t=l("div"),s=l("a"),g=l("img"),w=r(),v=l("div"),I=a(E),this.h()},l(e){t=n(e,"DIV",{class:!0});var l=c(t);s=n(l,"A",{href:!0});var a=c(s);g=n(a,"IMG",{class:!0,src:!0,alt:!0,onerror:!0}),w=i(a),v=n(a,"DIV",{class:!0});var r=c(v);I=h(r,E),r.forEach(o),a.forEach(o),l.forEach(o),this.h()},h(){f(g,"class","w-100 svelte-wlnud6"),g.src!==(p=e[6].data.thumbnail)&&f(g,"src",p),f(g,"alt",""),f(g,"onerror","this.onerror=null;this.src='https://i.redd.it/1if85xwae7qy.jpg';"),f(v,"class","p-5 f-wt4"),f(s,"href",b=e[6].data.url_overridden_by_dest),f(t,"class","boxy blur svelte-wlnud6")},m(e,l){d(e,t,l),m(t,s),m(s,g),m(s,w),m(s,v),m(v,I)},p(e,t){1&t&&g.src!==(p=e[6].data.thumbnail)&&f(g,"src",p),1&t&&E!==(E=e[6].data.title.replace(/TIL/g,"")+"")&&u(I,E),1&t&&b!==(b=e[6].data.url_overridden_by_dest)&&f(s,"href",b)},d(e){e&&o(t)}}}function E(e){let t,s,p,w,v,E=e[3].name+"",T=e[3].news,_=[];for(let l=0;l<T.length;l+=1)_[l]=b(I(e,T,l));return{c(){t=l("article"),s=l("div"),p=a(E),w=r();for(let e=0;e<_.length;e+=1)_[e].c();v=r(),this.h()},l(e){t=n(e,"ARTICLE",{class:!0});var l=c(t);s=n(l,"DIV",{class:!0});var a=c(s);p=h(a,E),a.forEach(o),w=i(l);for(let t=0;t<_.length;t+=1)_[t].l(l);v=i(l),l.forEach(o),this.h()},h(){f(s,"class","blur rpm-5"),f(t,"class","w-25 rpm-5")},m(e,l){d(e,t,l),m(t,s),m(s,p),m(t,w);for(let s=0;s<_.length;s+=1)_[s].m(t,null);m(t,v)},p(e,s){if(1&s&&E!==(E=e[3].name+"")&&u(p,E),1&s){let l;for(T=e[3].news,l=0;l<T.length;l+=1){const a=I(e,T,l);_[l]?_[l].p(a,s):(_[l]=b(a),_[l].c(),_[l].m(t,v))}for(;l<_.length;l+=1)_[l].d(1);_.length=T.length}},d(e){e&&o(t),g(_,e)}}}function T(e){let t,s=e[0],a=[];for(let l=0;l<s.length;l+=1)a[l]=E(v(e,s,l));return{c(){t=l("section");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=n(e,"SECTION",{class:!0});var s=c(t);for(let t=0;t<a.length;t+=1)a[t].l(s);s.forEach(o),this.h()},h(){f(t,"class","flex")},m(e,s){d(e,t,s);for(let l=0;l<a.length;l+=1)a[l].m(t,null)},p(e,[l]){if(1&l){let r;for(s=e[0],r=0;r<s.length;r+=1){const n=v(e,s,r);a[r]?a[r].p(n,l):(a[r]=E(n),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:p,o:p,d(e){e&&o(t),g(a,e)}}}function _(e,t,s){let l=[{name:"TechNews",news:[]},{name:"WallStreetBets",news:[]},{name:"Science",news:[]},{name:"TodayILearned",news:[]}];const[a,r]=["/top/.json?limit=5","https://www.reddit.com/r/"];return w((()=>{Promise.all(l.map((e=>fetch(r+e.name+a)))).then((e=>Promise.all(e.map((e=>e.json()))))).then((e=>e.map(((e,t)=>s(0,l[t].news=e.data.children,l)))))})),[l]}export default class extends e{constructor(e){super(),t(this,e,_,T,s,{})}}
