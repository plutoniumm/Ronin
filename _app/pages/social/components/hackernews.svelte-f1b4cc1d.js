import{S as e,i as s,s as t,e as r,t as a,k as n,c as l,a as c,g as o,d as i,n as h,b as f,f as m,F as u,h as d,G as p,T as v,z as g}from"../../../chunks/vendor-3f6007f7.js";import{d as w}from"../../../chunks/yoroi-52ef10cd.js";function E(e,s,t){const r=e.slice();return r[2]=s[t],r}function b(e){let s,t,p,v,g,E,b,y,j,I,k,D,P,S,V,x,A,N,T,z=e[2].title+"",C=e[2].by+"",F=e[1](e[2].url)+"",G=e[2].score+"",L=e[2].descendants+"",O=w(1e3*e[2].time)+"";return{c(){s=r("div"),t=r("a"),p=r("div"),v=a(z),g=a(" - "),E=r("i"),b=a(C),y=n(),j=r("span"),I=a(F),k=n(),D=r("div"),P=a(G),S=a(" points | "),V=a(L),x=a(" comments | "),A=a(O),T=n(),this.h()},l(e){s=l(e,"DIV",{class:!0});var r=c(s);t=l(r,"A",{href:!0,class:!0});var a=c(t);p=l(a,"DIV",{class:!0});var n=c(p);v=o(n,z),g=o(n," - "),E=l(n,"I",{});var f=c(E);b=o(f,C),f.forEach(i),y=h(n),j=l(n,"SPAN",{class:!0});var m=c(j);I=o(m,F),m.forEach(i),n.forEach(i),k=h(a),D=l(a,"DIV",{class:!0});var u=c(D);P=o(u,G),S=o(u," points | "),V=o(u,L),x=o(u," comments | "),A=o(u,O),u.forEach(i),a.forEach(i),T=h(r),r.forEach(i),this.h()},h(){f(j,"class","desc svelte-iehea7"),f(p,"class","title"),f(D,"class","desc svelte-iehea7"),f(t,"href",N=e[2].url),f(t,"class","news"),f(s,"class","rpm-10 blur")},m(e,r){m(e,s,r),u(s,t),u(t,p),u(p,v),u(p,g),u(p,E),u(E,b),u(p,y),u(p,j),u(j,I),u(t,k),u(t,D),u(D,P),u(D,S),u(D,V),u(D,x),u(D,A),u(s,T)},p(e,s){1&s&&z!==(z=e[2].title+"")&&d(v,z),1&s&&C!==(C=e[2].by+"")&&d(b,C),1&s&&F!==(F=e[1](e[2].url)+"")&&d(I,F),1&s&&G!==(G=e[2].score+"")&&d(P,G),1&s&&L!==(L=e[2].descendants+"")&&d(V,L),1&s&&O!==(O=w(1e3*e[2].time)+"")&&d(A,O),1&s&&N!==(N=e[2].url)&&f(t,"href",N)},d(e){e&&i(s)}}}function y(e){let s,t=e[0],a=[];for(let r=0;r<t.length;r+=1)a[r]=b(E(e,t,r));return{c(){s=r("section");for(let e=0;e<a.length;e+=1)a[e].c()},l(e){s=l(e,"SECTION",{});var t=c(s);for(let s=0;s<a.length;s+=1)a[s].l(t);t.forEach(i)},m(e,t){m(e,s,t);for(let r=0;r<a.length;r+=1)a[r].m(s,null)},p(e,[r]){if(3&r){let n;for(t=e[0],n=0;n<t.length;n+=1){const l=E(e,t,n);a[n]?a[n].p(l,r):(a[n]=b(l),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=t.length}},i:p,o:p,d(e){e&&i(s),v(a,e)}}}const j="https://hacker-news.firebaseio.com/v0/";function I(e,s,t){let r=[];g((()=>{fetch(j+"topstories.json?print=pretty").then((e=>e.json())).then((e=>{Promise.all(e.slice(0,40).map((e=>fetch(j+"item/"+e+".json?print=pretty")))).then((e=>Promise.all(e.map((e=>e.json()))))).then((e=>{e.map((e=>({title:e.title,by:e.by,descendants:e.descendants,score:e.score,url:e.url,time:e.time}))),t(0,r=e)}))}))}));return[r,e=>{let s="";if(e){return s=new URL(e).hostname,s.includes("www")&&(s=s.replace("www.","")),`(${s})`}return s}]}export default class extends e{constructor(e){super(),s(this,e,I,y,t,{})}}
