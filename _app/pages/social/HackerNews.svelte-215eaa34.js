import{S as e,i as s,s as t,e as r,t as a,k as n,c,a as l,g as o,d as i,n as h,b as f,I as m,f as d,F as u,h as p,G as v,T as b,z as g}from"../../chunks/vendor-c97387a2.js";import{d as w}from"../../chunks/yoroi-bd40679e.js";function y(e,s,t){const r=e.slice();return r[2]=s[t],r}function E(e){let s,t,v,b,g,y,E,j,I,k,x,D,P,S,V,A,N,T,z,C=e[2].title+"",F=e[2].by+"",G=e[1](e[2].url)+"",L=e[2].score+"",O=e[2].descendants+"",R=w(1e3*e[2].time)+"";return{c(){s=r("div"),t=r("a"),v=r("div"),b=a(C),g=a(" - "),y=r("i"),E=a(F),j=n(),I=r("span"),k=a(G),x=n(),D=r("div"),P=a(L),S=a(" points | "),V=a(O),A=a(" comments | "),N=a(R),z=n(),this.h()},l(e){s=c(e,"DIV",{class:!0,style:!0});var r=l(s);t=c(r,"A",{href:!0,class:!0});var a=l(t);v=c(a,"DIV",{class:!0});var n=l(v);b=o(n,C),g=o(n," - "),y=c(n,"I",{});var f=l(y);E=o(f,F),f.forEach(i),j=h(n),I=c(n,"SPAN",{class:!0});var m=l(I);k=o(m,G),m.forEach(i),n.forEach(i),x=h(a),D=c(a,"DIV",{class:!0});var d=l(D);P=o(d,L),S=o(d," points | "),V=o(d,O),A=o(d," comments | "),N=o(d,R),d.forEach(i),a.forEach(i),z=h(r),r.forEach(i),this.h()},h(){f(I,"class","desc svelte-iehea7"),f(v,"class","title"),f(D,"class","desc svelte-iehea7"),f(t,"href",T=e[2].url),f(t,"class","news"),f(s,"class","p-10 m-20"),m(s,"border-bottom","1px solid #ccc8")},m(e,r){d(e,s,r),u(s,t),u(t,v),u(v,b),u(v,g),u(v,y),u(y,E),u(v,j),u(v,I),u(I,k),u(t,x),u(t,D),u(D,P),u(D,S),u(D,V),u(D,A),u(D,N),u(s,z)},p(e,s){1&s&&C!==(C=e[2].title+"")&&p(b,C),1&s&&F!==(F=e[2].by+"")&&p(E,F),1&s&&G!==(G=e[1](e[2].url)+"")&&p(k,G),1&s&&L!==(L=e[2].score+"")&&p(P,L),1&s&&O!==(O=e[2].descendants+"")&&p(V,O),1&s&&R!==(R=w(1e3*e[2].time)+"")&&p(N,R),1&s&&T!==(T=e[2].url)&&f(t,"href",T)},d(e){e&&i(s)}}}function j(e){let s,t=e[0],a=[];for(let r=0;r<t.length;r+=1)a[r]=E(y(e,t,r));return{c(){s=r("section");for(let e=0;e<a.length;e+=1)a[e].c()},l(e){s=c(e,"SECTION",{});var t=l(s);for(let s=0;s<a.length;s+=1)a[s].l(t);t.forEach(i)},m(e,t){d(e,s,t);for(let r=0;r<a.length;r+=1)a[r].m(s,null)},p(e,[r]){if(3&r){let n;for(t=e[0],n=0;n<t.length;n+=1){const c=y(e,t,n);a[n]?a[n].p(c,r):(a[n]=E(c),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=t.length}},i:v,o:v,d(e){e&&i(s),b(a,e)}}}const I="https://hacker-news.firebaseio.com/v0/";function k(e,s,t){let r=[];g((()=>{fetch(I+"topstories.json?print=pretty").then((e=>e.json())).then((e=>{Promise.all(e.slice(0,40).map((e=>fetch(I+"item/"+e+".json?print=pretty")))).then((e=>Promise.all(e.map((e=>e.json()))))).then((e=>{e.map((e=>({title:e.title,by:e.by,descendants:e.descendants,score:e.score,url:e.url,time:e.time}))),t(0,r=e)}))}))}));return[r,e=>{let s="";if(e){return s=new URL(e).hostname,s.includes("www")&&(s=s.replace("www.","")),`(${s})`}return s}]}export default class extends e{constructor(e){super(),s(this,e,k,j,t,{})}}
