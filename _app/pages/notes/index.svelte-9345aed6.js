import{S as e,i as t,s,D as a,e as l,c as n,a as r,d as c,b as o,f as i,I as d,X as f,E as m,v as h,r as u,G as $,t as p,l as g,k as b,j as v,H as k,g as y,n as w,m as j,J as E,F as x,o as q,P as N,w as S,M as T,z as I,_ as C}from"../../chunks/vendor-31282957.js";import M from"./components/files.svelte-e9befb05.js";import O from"./components/editor.svelte-66d2bbda.js";import A from"./micro/logo.svelte-2bcf41c3.js";import{b as D}from"../../chunks/paths-45dac81d.js";import"../../chunks/svgIcon-54bc9ab1.js";import{u as H,a as L,b as U}from"../../chunks/api-e5ddc269.js";import"../../chunks/navigator-a1611a47.js";import"../../chunks/molecular-c58642ff.js";import"../../chunks/client_keys-40eee54c.js";function F(e){let t,s,$,p,g,b;const v=e[9].default,k=a(v,e,e[8],null);return{c(){t=l("button"),k&&k.c(),this.h()},l(e){t=n(e,"BUTTON",{square:!0,flat:!0,disabled:!0,class:!0,style:!0});var s=r(t);k&&k.l(s),s.forEach(c),this.h()},h(){o(t,"square",e[4]),o(t,"flat",e[7]),t.disabled=e[3],o(t,"class",s="btn "+e[2]+" svelte-1oiqxcj"),o(t,"style",$=`${e[1]};--theme:${e[0]};border-radius:${e[6]};`)},m(s,a){i(s,t,a),k&&k.m(t,null),p=!0,g||(b=d(t,"click",(function(){f(e[5])&&e[5].apply(this,arguments)})),g=!0)},p(a,[l]){e=a,k&&k.p&&(!p||256&l)&&m(k,v,e,e[8],l,null,null),(!p||16&l)&&o(t,"square",e[4]),(!p||128&l)&&o(t,"flat",e[7]),(!p||8&l)&&(t.disabled=e[3]),(!p||4&l&&s!==(s="btn "+e[2]+" svelte-1oiqxcj"))&&o(t,"class",s),(!p||67&l&&$!==($=`${e[1]};--theme:${e[0]};border-radius:${e[6]};`))&&o(t,"style",$)},i(e){p||(h(k,e),p=!0)},o(e){u(k,e),p=!1},d(e){e&&c(t),k&&k.d(e),g=!1,b()}}}function J(e,t,s){let{$$slots:a={},$$scope:l}=t,{theme:n}=t,{style:r=""}=t,{classes:c=""}=t,{disabled:o}=t,{square:i}=t,{click:d=""}=t,{rx:f=0}=t,{flat:m}=t;return e.$$set=e=>{"theme"in e&&s(0,n=e.theme),"style"in e&&s(1,r=e.style),"classes"in e&&s(2,c=e.classes),"disabled"in e&&s(3,o=e.disabled),"square"in e&&s(4,i=e.square),"click"in e&&s(5,d=e.click),"rx"in e&&s(6,f=e.rx),"flat"in e&&s(7,m=e.flat),"$$scope"in e&&s(8,l=e.$$scope)},[n,r,c,o,i,d,f,m,l,a]}class K extends e{constructor(e){super(),t(this,e,J,F,s,{theme:0,style:1,classes:2,disabled:3,square:4,click:5,rx:6,flat:7})}}const{window:P}=C;function R(e,t,s){const a=e.slice();return a[7]=t[s],a}function _(e){let t,s;return{c(){t=l("script"),this.h()},l(e){t=n(e,"SCRIPT",{src:!0}),r(t).forEach(c),this.h()},h(){t.src!==(s=D+"/helpers/notes/"+e[7]+".js")&&o(t,"src",s)},m(e,s){i(e,t,s)},p:$,d(e){e&&c(t)}}}function z(e){let t;return{c(){t=p("Save")},l(e){t=y(e,"Save")},m(e,s){i(e,t,s)},d(e){e&&c(t)}}}function B(e){let t;return{c(){t=p("Delete")},l(e){t=y(e,"Delete")},m(e,s){i(e,t,s)},d(e){e&&c(t)}}}function G(e){let t,s,a,f,m,$,T,I,C,D,H,L,U,F,J,G,V,X,Y,Q,W,Z=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],ee=[];for(let l=0;l<5;l+=1)ee[l]=_(R(e,Z,l));return T=new A({}),D=new M({}),F=new K({props:{click:e[1],theme:e[0],style:"margin:0;color:#888a;",$$slots:{default:[z]},$$scope:{ctx:e}}}),G=new K({props:{click:e[2],theme:"#0000",style:"margin:0;color:#888a;",$$slots:{default:[B]},$$scope:{ctx:e}}}),X=new O({}),{c(){t=l("style"),s=p("body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    ");for(let e=0;e<5;e+=1)ee[e].c();a=g(),f=b(),m=l("main"),$=l("nav"),v(T.$$.fragment),I=b(),C=l("section"),v(D.$$.fragment),H=b(),L=l("main"),U=l("functions"),v(F.$$.fragment),J=b(),v(G.$$.fragment),V=b(),v(X.$$.fragment),this.h()},l(e){const l=k('[data-svelte="svelte-1jf3qpd"]',document.head);t=n(l,"STYLE",{});var o=r(t);s=y(o,"body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    "),o.forEach(c);for(let t=0;t<5;t+=1)ee[t].l(l);a=g(),l.forEach(c),f=w(e),m=n(e,"MAIN",{class:!0});var i=r(m);$=n(i,"NAV",{class:!0});var d=r($);j(T.$$.fragment,d),I=w(d),C=n(d,"SECTION",{id:!0,class:!0});var h=r(C);j(D.$$.fragment,h),h.forEach(c),d.forEach(c),H=w(i),L=n(i,"MAIN",{class:!0});var u=r(L);U=n(u,"FUNCTIONS",{class:!0,style:!0});var p=r(U);j(F.$$.fragment,p),J=w(p),j(G.$$.fragment,p),p.forEach(c),V=w(u),j(X.$$.fragment,u),u.forEach(c),i.forEach(c),this.h()},h(){document.title="Terrelysium",o(C,"id","list"),o(C,"class","svelte-hfgd5u"),o($,"class","lhs svelte-hfgd5u"),o(U,"class","ƒ w-100 svelte-hfgd5u"),E(U,"direction","rtl"),o(L,"class","rhs svelte-hfgd5u"),o(m,"class","ƒ svelte-hfgd5u")},m(l,n){x(document.head,t),x(t,s);for(let e=0;e<5;e+=1)ee[e].m(document.head,null);x(document.head,a),i(l,f,n),i(l,m,n),x(m,$),q(T,$,null),x($,I),x($,C),q(D,C,null),x(m,H),x(m,L),x(L,U),q(F,U,null),x(U,J),q(G,U,null),x(L,V),q(X,L,null),Y=!0,Q||(W=d(P,"keydown",e[3]),Q=!0)},p(e,[t]){if(0&t){let s;for(Z=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],s=0;s<5;s+=1){const l=R(e,Z,s);ee[s]?ee[s].p(l,t):(ee[s]=_(l),ee[s].c(),ee[s].m(a.parentNode,a))}for(;s<5;s+=1)ee[s].d(1)}const s={};1&t&&(s.theme=e[0]),1024&t&&(s.$$scope={dirty:t,ctx:e}),F.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),G.$set(l)},i(e){Y||(h(T.$$.fragment,e),h(D.$$.fragment,e),h(F.$$.fragment,e),h(G.$$.fragment,e),h(X.$$.fragment,e),Y=!0)},o(e){u(T.$$.fragment,e),u(D.$$.fragment,e),u(F.$$.fragment,e),u(G.$$.fragment,e),u(X.$$.fragment,e),Y=!1},d(e){c(t),N(ee,e),c(a),e&&c(f),e&&c(m),S(T),S(D),S(F),S(G),S(X),Q=!1,W()}}}function V(e,t,s){let a;T(e,U,(e=>s(6,a=e)));let l,n,r="#0000";const c=async()=>{const e=await editor.save();if(e!==n)return s(0,r="#06a"),n=e,H(mainEditor.dataset.id,e).then((e=>s(0,r="#0000"))).catch((e=>{console.log(e),s(0,r="#f44")})),0};I((()=>{window.mainEditor=ƒ("#editorOfNotes"),l={header:Header,alert:Alert,image:SimpleImage,list:List,link:{class:LinkTool,config:{endpoint:serverURL+"requestMetadata"}},embed:Embed,table:Table,checklist:Checklist},window.editor=new EditorJS({holder:"editorOfNotes",tools:l,data:a})}));return[r,c,()=>L(mainEditor.dataset.id),e=>{(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&83==e.keyCode&&(e.preventDefault(),c())}]}export default class extends e{constructor(e){super(),t(this,e,V,G,s,{})}}
