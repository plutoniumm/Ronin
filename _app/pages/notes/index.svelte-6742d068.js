import{S as e,i as s,s as t,Y as n,c as a,a as o,d as l,b as i,f as r,D as c,e as d,k as f,n as m,F as h,I as u,E as $,x as p,u as g,N as k,G as v,t as b,l as w,j as y,H as x,g as E,m as j,J as M,o as L,P as C,v as H,M as S,A as T,$ as N}from"../../chunks/vendor-5714e58c.js";import q from"./components/files.svelte-8f60f96e.js";import I from"./components/editor.svelte-ed48f708.js";import{b as A}from"../../chunks/paths-45dac81d.js";/* empty css                                                          */import{s as D}from"../../chunks/molecular-c58642ff.js";import{u as V,a as B,b as O}from"../../chunks/api-0ea22533.js";import"../../chunks/client_keys-40eee54c.js";function R(e){let s;return{c(){s=n("svg"),this.h()},l(e){s=a(e,"svg",{viewBox:!0,class:!0},1),o(s).forEach(l),this.h()},h(){i(s,"viewBox",e[2]),i(s,"class","svelte-159t420")},m(t,n){r(t,s,n),s.innerHTML=e[1]},p(e,t){2&t&&(s.innerHTML=e[1]),4&t&&i(s,"viewBox",e[2])},d(e){e&&l(s)}}}function F(e){let s,t,n,k,v,b,w=e[1]&&R(e);const y=e[7].default,x=c(y,e,e[6],null);return{c(){s=d("a"),w&&w.c(),t=f(),x&&x.c(),this.h()},l(e){s=a(e,"A",{href:!0,class:!0,kind:!0,disabled:!0});var n=o(s);w&&w.l(n),t=m(n),x&&x.l(n),n.forEach(l),this.h()},h(){i(s,"href",e[4]),i(s,"class",n="†l kimono-ui-base "+e[0]+" svelte-159t420"),i(s,"kind",e[3]),i(s,"disabled",e[5])},m(n,a){r(n,s,a),w&&w.m(s,null),h(s,t),x&&x.m(s,null),k=!0,v||(b=u(s,"click",e[8]),v=!0)},p(e,[a]){e[1]?w?w.p(e,a):(w=R(e),w.c(),w.m(s,t)):w&&(w.d(1),w=null),x&&x.p&&(!k||64&a)&&$(x,y,e,e[6],k?a:-1,null,null),(!k||16&a)&&i(s,"href",e[4]),(!k||1&a&&n!==(n="†l kimono-ui-base "+e[0]+" svelte-159t420"))&&i(s,"class",n),(!k||8&a)&&i(s,"kind",e[3]),(!k||32&a)&&i(s,"disabled",e[5])},i(e){k||(p(x,e),k=!0)},o(e){g(x,e),k=!1},d(e){e&&l(s),w&&w.d(),x&&x.d(e),v=!1,b()}}}function J(e,s,t){let{$$slots:n={},$$scope:a}=s,{forceClass:o=""}=s,{icon:l}=s,{iconView:i="0 0 32 32"}=s,{kind:r="primary"}=s,{href:c="#"}=s,{disabled:d}=s;return e.$$set=e=>{"forceClass"in e&&t(0,o=e.forceClass),"icon"in e&&t(1,l=e.icon),"iconView"in e&&t(2,i=e.iconView),"kind"in e&&t(3,r=e.kind),"href"in e&&t(4,c=e.href),"disabled"in e&&t(5,d=e.disabled),"$$scope"in e&&t(6,a=e.$$scope)},[o,l,i,r,c,d,a,n,function(s){k.call(this,e,s)}]}class P extends e{constructor(e){super(),s(this,e,J,F,t,{forceClass:0,icon:1,iconView:2,kind:3,href:4,disabled:5})}}const{window:Y}=N;function _(e,s,t){const n=e.slice();return n[7]=s[t],n}function z(e){let s,t;return{c(){s=d("script"),this.h()},l(e){s=a(e,"SCRIPT",{src:!0}),o(s).forEach(l),this.h()},h(){s.src!==(t=A+"/helpers/notes/"+e[7]+".js")&&i(s,"src",t)},m(e,t){r(e,s,t)},p:v,d(e){e&&l(s)}}}function G(e){let s;return{c(){s=b(" Save")},l(e){s=E(e," Save")},m(e,t){r(e,s,t)},d(e){e&&l(s)}}}function K(e){let s;return{c(){s=b(" Delete")},l(e){s=E(e," Delete")},m(e,t){r(e,s,t)},d(e){e&&l(s)}}}function U(e){let s,t,n,c,$,k,v,S,T,N,A,D,V,B,O,R,F,J,U,Q,W=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],X=[];for(let a=0;a<5;a+=1)X[a]=z(_(e,W,a));return v=new q({}),A=new P({props:{kind:"ghost",assetClass:"p0 m0",icon:"<path d='M9 22 C0 23 1 12 9 13 6 2 23 2 22 10 32 7 32 23 23 22 M11 18 L16 14 21 18 M16 14 L16 29'/>",$$slots:{default:[G]},$$scope:{ctx:e}}}),A.$on("click",e[0]),O=new P({props:{kind:"danger-ghost",assetClass:"p0 m0",icon:"<path d='M28 6 L6 6 8 30 24 30 26 6 4 6 M16 12 L16 24 M21 12 L20 24 M11 12 L12 24 M12 6 L13 2 19 2 20 6'/>",$$slots:{default:[K]},$$scope:{ctx:e}}}),O.$on("click",e[1]),F=new I({}),{c(){s=d("style"),t=b("body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    ");for(let e=0;e<5;e+=1)X[e].c();n=w(),c=f(),$=d("main"),k=d("functions"),y(v.$$.fragment),S=f(),T=d("hr"),N=f(),y(A.$$.fragment),D=f(),V=d("hr"),B=f(),y(O.$$.fragment),R=f(),y(F.$$.fragment),this.h()},l(e){const i=x('[data-svelte="svelte-1jf3qpd"]',document.head);s=a(i,"STYLE",{});var r=o(s);t=E(r,"body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    "),r.forEach(l);for(let s=0;s<5;s+=1)X[s].l(i);n=w(),i.forEach(l),c=m(e),$=a(e,"MAIN",{class:!0,style:!0});var d=o($);k=a(d,"FUNCTIONS",{class:!0});var f=o(k);j(v.$$.fragment,f),S=m(f),T=a(f,"HR",{class:!0}),N=m(f),j(A.$$.fragment,f),D=m(f),V=a(f,"HR",{class:!0}),B=m(f),j(O.$$.fragment,f),f.forEach(l),R=m(d),j(F.$$.fragment,d),d.forEach(l),this.h()},h(){document.title="Terrelysium",i(T,"class","m0 svelte-1q4obgr"),i(V,"class","m0 svelte-1q4obgr"),i(k,"class","fns ƒ svelte-1q4obgr"),i($,"class","w-100 svelte-1q4obgr"),M($,"z-index","0")},m(a,o){h(document.head,s),h(s,t);for(let e=0;e<5;e+=1)X[e].m(document.head,null);h(document.head,n),r(a,c,o),r(a,$,o),h($,k),L(v,k,null),h(k,S),h(k,T),h(k,N),L(A,k,null),h(k,D),h(k,V),h(k,B),L(O,k,null),h($,R),L(F,$,null),J=!0,U||(Q=u(Y,"keydown",e[2]),U=!0)},p(e,[s]){if(0&s){let t;for(W=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],t=0;t<5;t+=1){const a=_(e,W,t);X[t]?X[t].p(a,s):(X[t]=z(a),X[t].c(),X[t].m(n.parentNode,n))}for(;t<5;t+=1)X[t].d(1)}const t={};1024&s&&(t.$$scope={dirty:s,ctx:e}),A.$set(t);const a={};1024&s&&(a.$$scope={dirty:s,ctx:e}),O.$set(a)},i(e){J||(p(v.$$.fragment,e),p(A.$$.fragment,e),p(O.$$.fragment,e),p(F.$$.fragment,e),J=!0)},o(e){g(v.$$.fragment,e),g(A.$$.fragment,e),g(O.$$.fragment,e),g(F.$$.fragment,e),J=!1},d(e){l(s),C(X,e),l(n),e&&l(c),e&&l($),H(v),H(A),H(O),H(F),U=!1,Q()}}}function Q(e,s,t){let n,a,o;S(e,O,(e=>t(6,n=e)));const l=async()=>{const e=await editor.save();if(e!==o)return o=e,V(mainEditor.dataset.id,e).then((e=>"#0000")).catch(console.log),0};T((()=>{window.mainEditor=ƒ("#editorOfNotes"),a={header:Header,alert:Alert,image:SimpleImage,list:List,link:{class:LinkTool,config:{endpoint:D+"requestMetadata"}},embed:Embed,table:Table,checklist:Checklist},window.editor=new EditorJS({holder:"editorOfNotes",tools:a,data:n})}));return[l,()=>B(mainEditor.dataset.id),e=>{e.metaKey&&83===e.keyCode&&(e.preventDefault(),l())}]}class W extends e{constructor(e){super(),s(this,e,Q,U,t,{})}}export{W as default};
