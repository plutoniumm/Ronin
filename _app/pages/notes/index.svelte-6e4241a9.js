import{S as e,i as t,s,e as a,c as n,a as o,d as r,b as c,f as l,G as i,t as d,l as m,k as f,j as h,H as u,g as $,n as p,m as g,J as b,F as k,o as v,I as j,x as w,u as y,P as E,v as M,M as x,A as L,a0 as S}from"../../chunks/vendor-d3a7abec.js";import C from"./components/files.svelte-6f3b924d.js";import H from"./components/editor.svelte-33b6b019.js";import{b as N}from"../../chunks/paths-45dac81d.js";/* empty css                                                          */import{B as T}from"../../chunks/button-80d81802.js";import{s as I}from"../../chunks/molecular-c58642ff.js";import{u as A,a as D,b as O}from"../../chunks/api-712ed709.js";import"../../chunks/client_keys-40eee54c.js";const{window:R}=S;function q(e,t,s){const a=e.slice();return a[7]=t[s],a}function F(e){let t,s;return{c(){t=a("script"),this.h()},l(e){t=n(e,"SCRIPT",{src:!0}),o(t).forEach(r),this.h()},h(){t.src!==(s=N+"/helpers/notes/"+e[7]+".js")&&c(t,"src",s)},m(e,s){l(e,t,s)},p:i,d(e){e&&r(t)}}}function J(e){let t;return{c(){t=d(" Save")},l(e){t=$(e," Save")},m(e,s){l(e,t,s)},d(e){e&&r(t)}}}function P(e){let t;return{c(){t=d(" Delete")},l(e){t=$(e," Delete")},m(e,s){l(e,t,s)},d(e){e&&r(t)}}}function _(e){let t,s,i,x,L,S,N,I,A,D,O,_,z,B,G,K,U,Y,Q,V,W=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],X=[];for(let a=0;a<5;a+=1)X[a]=F(q(e,W,a));return N=new C({}),O=new T({props:{kind:"ghost",assetClass:"p0 m0",icon:"<path d='M9 22 C0 23 1 12 9 13 6 2 23 2 22 10 32 7 32 23 23 22 M11 18 L16 14 21 18 M16 14 L16 29'/>",$$slots:{default:[J]},$$scope:{ctx:e}}}),O.$on("click",e[0]),G=new T({props:{kind:"danger-ghost",assetClass:"p0 m0",icon:"<path d='M28 6 L6 6 8 30 24 30 26 6 4 6 M16 12 L16 24 M21 12 L20 24 M11 12 L12 24 M12 6 L13 2 19 2 20 6'/>",$$slots:{default:[P]},$$scope:{ctx:e}}}),G.$on("click",e[1]),U=new H({}),{c(){t=a("style"),s=d("body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    ");for(let e=0;e<5;e+=1)X[e].c();i=m(),x=f(),L=a("main"),S=a("functions"),h(N.$$.fragment),I=f(),A=a("hr"),D=f(),h(O.$$.fragment),_=f(),z=a("hr"),B=f(),h(G.$$.fragment),K=f(),h(U.$$.fragment),this.h()},l(e){const a=u('[data-svelte="svelte-1jf3qpd"]',document.head);t=n(a,"STYLE",{});var c=o(t);s=$(c,"body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    "),c.forEach(r);for(let t=0;t<5;t+=1)X[t].l(a);i=m(),a.forEach(r),x=p(e),L=n(e,"MAIN",{class:!0,style:!0});var l=o(L);S=n(l,"FUNCTIONS",{class:!0});var d=o(S);g(N.$$.fragment,d),I=p(d),A=n(d,"HR",{class:!0}),D=p(d),g(O.$$.fragment,d),_=p(d),z=n(d,"HR",{class:!0}),B=p(d),g(G.$$.fragment,d),d.forEach(r),K=p(l),g(U.$$.fragment,l),l.forEach(r),this.h()},h(){document.title="Terrelysium",c(A,"class","m0 svelte-eejcub"),c(z,"class","m0 svelte-eejcub"),c(S,"class","fns ƒ svelte-eejcub"),c(L,"class","w-100 svelte-eejcub"),b(L,"z-index","0")},m(a,n){k(document.head,t),k(t,s);for(let e=0;e<5;e+=1)X[e].m(document.head,null);k(document.head,i),l(a,x,n),l(a,L,n),k(L,S),v(N,S,null),k(S,I),k(S,A),k(S,D),v(O,S,null),k(S,_),k(S,z),k(S,B),v(G,S,null),k(L,K),v(U,L,null),Y=!0,Q||(V=j(R,"keydown",e[2]),Q=!0)},p(e,[t]){if(0&t){let s;for(W=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],s=0;s<5;s+=1){const a=q(e,W,s);X[s]?X[s].p(a,t):(X[s]=F(a),X[s].c(),X[s].m(i.parentNode,i))}for(;s<5;s+=1)X[s].d(1)}const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),O.$set(s);const a={};1024&t&&(a.$$scope={dirty:t,ctx:e}),G.$set(a)},i(e){Y||(w(N.$$.fragment,e),w(O.$$.fragment,e),w(G.$$.fragment,e),w(U.$$.fragment,e),Y=!0)},o(e){y(N.$$.fragment,e),y(O.$$.fragment,e),y(G.$$.fragment,e),y(U.$$.fragment,e),Y=!1},d(e){r(t),E(X,e),r(i),e&&r(x),e&&r(L),M(N),M(O),M(G),M(U),Q=!1,V()}}}function z(e,t,s){let a,n,o;x(e,O,(e=>s(6,a=e)));const r=async()=>{const e=await editor.save();if(e!==o)return o=e,A(mainEditor.dataset.id,e).then((e=>"#0000")).catch(console.log),0};L((()=>{window.mainEditor=ƒ("#editorOfNotes"),n={header:Header,alert:Alert,image:SimpleImage,list:List,link:{class:LinkTool,config:{endpoint:I+"requestMetadata"}},embed:Embed,table:Table,checklist:Checklist},window.editor=new EditorJS({holder:"editorOfNotes",tools:n,data:a})}));return[r,()=>D(mainEditor.dataset.id),e=>{e.metaKey&&83===e.keyCode&&(e.preventDefault(),r())}]}class B extends e{constructor(e){super(),t(this,e,z,_,s,{})}}export{B as default};
