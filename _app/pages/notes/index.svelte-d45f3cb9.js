import{S as e,i as s,s as t,D as a,e as l,c as n,a as r,d as c,b as o,f as i,I as f,X as d,E as h,v as m,r as u,G as $,t as p,l as v,k as b,j as g,H as k,g as y,n as j,m as w,J as x,F as E,o as q,P as M,w as L,M as S,z as N,_ as T,Y as H}from"../../chunks/vendor-6eaebedf.js";import I from"./components/files.svelte-34472537.js";import B from"./components/editor.svelte-cefd39b7.js";import{b as C}from"../../chunks/paths-45dac81d.js";/* empty css                                                         */import{s as z}from"../../chunks/molecular-c58642ff.js";import{u as A,a as D,b as O}from"../../chunks/api-1a8881b0.js";import"../../chunks/client_keys-40eee54c.js";function P(e){let s,t,$,p,v,b;const g=e[9].default,k=a(g,e,e[8],null);return{c(){s=l("button"),k&&k.c(),this.h()},l(e){s=n(e,"BUTTON",{square:!0,flat:!0,disabled:!0,class:!0,style:!0});var t=r(s);k&&k.l(t),t.forEach(c),this.h()},h(){o(s,"square",e[4]),o(s,"flat",e[7]),s.disabled=e[3],o(s,"class",t="btn "+e[2]+" svelte-1oiqxcj"),o(s,"style",$=`${e[1]};--theme:${e[0]};border-radius:${e[6]};`)},m(t,a){i(t,s,a),k&&k.m(s,null),p=!0,v||(b=f(s,"click",(function(){d(e[5])&&e[5].apply(this,arguments)})),v=!0)},p(a,[l]){e=a,k&&k.p&&(!p||256&l)&&h(k,g,e,e[8],l,null,null),(!p||16&l)&&o(s,"square",e[4]),(!p||128&l)&&o(s,"flat",e[7]),(!p||8&l)&&(s.disabled=e[3]),(!p||4&l&&t!==(t="btn "+e[2]+" svelte-1oiqxcj"))&&o(s,"class",t),(!p||67&l&&$!==($=`${e[1]};--theme:${e[0]};border-radius:${e[6]};`))&&o(s,"style",$)},i(e){p||(m(k,e),p=!0)},o(e){u(k,e),p=!1},d(e){e&&c(s),k&&k.d(e),v=!1,b()}}}function R(e,s,t){let{$$slots:a={},$$scope:l}=s,{theme:n}=s,{style:r=""}=s,{classes:c=""}=s,{disabled:o}=s,{square:i}=s,{click:f=""}=s,{rx:d=0}=s,{flat:h}=s;return e.$$set=e=>{"theme"in e&&t(0,n=e.theme),"style"in e&&t(1,r=e.style),"classes"in e&&t(2,c=e.classes),"disabled"in e&&t(3,o=e.disabled),"square"in e&&t(4,i=e.square),"click"in e&&t(5,f=e.click),"rx"in e&&t(6,d=e.rx),"flat"in e&&t(7,h=e.flat),"$$scope"in e&&t(8,l=e.$$scope)},[n,r,c,o,i,f,d,h,l,a]}class _ extends e{constructor(e){super(),s(this,e,R,P,t,{theme:0,style:1,classes:2,disabled:3,square:4,click:5,rx:6,flat:7})}}const{window:F}=T;function J(e,s,t){const a=e.slice();return a[7]=s[t],a}function U(e){let s,t;return{c(){s=l("script"),this.h()},l(e){s=n(e,"SCRIPT",{src:!0}),r(s).forEach(c),this.h()},h(){s.src!==(t=C+"/helpers/notes/"+e[7]+".js")&&o(s,"src",t)},m(e,t){i(e,s,t)},p:$,d(e){e&&c(s)}}}function Y(e){let s,t,a,f,d;return{c(){s=H("svg"),t=H("path"),a=b(),f=l("span"),d=p(" Save"),this.h()},l(e){s=n(e,"svg",{viewBox:!0,class:!0},1);var l=r(s);t=n(l,"path",{stroke:!0,d:!0},1),r(t).forEach(c),l.forEach(c),a=j(e),f=n(e,"SPAN",{style:!0});var o=r(f);d=y(o," Save"),o.forEach(c),this.h()},h(){o(t,"stroke","#1af"),o(t,"d","M9 22 C0 23 1 12 9 13 6 2 23 2 22 10 32 7 32 23 23 22 M11 18 L16 14 21 18 M16 14 L16 29"),o(s,"viewBox","0 0 32 32"),o(s,"class","svelte-eejcub"),x(f,"font-size","1.25em"),x(f,"color","#000")},m(e,l){i(e,s,l),E(s,t),i(e,a,l),i(e,f,l),E(f,d)},d(e){e&&c(s),e&&c(a),e&&c(f)}}}function G(e){let s,t,a,f,d;return{c(){s=H("svg"),t=H("path"),a=b(),f=l("span"),d=p(" Delete"),this.h()},l(e){s=n(e,"svg",{viewBox:!0,class:!0},1);var l=r(s);t=n(l,"path",{stroke:!0,d:!0},1),r(t).forEach(c),l.forEach(c),a=j(e),f=n(e,"SPAN",{style:!0});var o=r(f);d=y(o," Delete"),o.forEach(c),this.h()},h(){o(t,"stroke","#f22"),o(t,"d","M28 6 L6 6 8 30 24 30 26 6 4 6 M16 12 L16 24 M21 12 L20 24 M11 12 L12 24 M12 6 L13 2 19 2 20 6"),o(s,"viewBox","0 0 32 32"),o(s,"class","svelte-eejcub"),x(f,"font-size","1.25em"),x(f,"color","#000")},m(e,l){i(e,s,l),E(s,t),i(e,a,l),i(e,f,l),E(f,d)},d(e){e&&c(s),e&&c(a),e&&c(f)}}}function K(e){let s,t,a,d,h,$,S,N,T,H,C,z,A,D,O,P,R,K,X,Q,V=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],W=[];for(let l=0;l<5;l+=1)W[l]=U(J(e,V,l));return S=new I({}),C=new _({props:{classes:"ƒ fw5 m0 p5",click:e[1],theme:e[0],$$slots:{default:[Y]},$$scope:{ctx:e}}}),O=new _({props:{classes:"ƒ fw5 m0 p5",click:e[2],$$slots:{default:[G]},$$scope:{ctx:e}}}),R=new B({}),{c(){s=l("style"),t=p("body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    ");for(let e=0;e<5;e+=1)W[e].c();a=v(),d=b(),h=l("main"),$=l("functions"),g(S.$$.fragment),N=b(),T=l("hr"),H=b(),g(C.$$.fragment),z=b(),A=l("hr"),D=b(),g(O.$$.fragment),P=b(),g(R.$$.fragment),this.h()},l(e){const l=k('[data-svelte="svelte-1jf3qpd"]',document.head);s=n(l,"STYLE",{});var o=r(s);t=y(o,"body {\n            background: #fff;\n            color: #000;\n            font: 200 16px Helvetica;\n            min-height: 100vh;\n        }\n    "),o.forEach(c);for(let s=0;s<5;s+=1)W[s].l(l);a=v(),l.forEach(c),d=j(e),h=n(e,"MAIN",{class:!0,style:!0});var i=r(h);$=n(i,"FUNCTIONS",{class:!0});var f=r($);w(S.$$.fragment,f),N=j(f),T=n(f,"HR",{class:!0}),H=j(f),w(C.$$.fragment,f),z=j(f),A=n(f,"HR",{class:!0}),D=j(f),w(O.$$.fragment,f),f.forEach(c),P=j(i),w(R.$$.fragment,i),i.forEach(c),this.h()},h(){document.title="Terrelysium",o(T,"class","m0 svelte-eejcub"),o(A,"class","m0 svelte-eejcub"),o($,"class","fns ƒ svelte-eejcub"),o(h,"class","w-100 svelte-eejcub"),x(h,"z-index","0")},m(l,n){E(document.head,s),E(s,t);for(let e=0;e<5;e+=1)W[e].m(document.head,null);E(document.head,a),i(l,d,n),i(l,h,n),E(h,$),q(S,$,null),E($,N),E($,T),E($,H),q(C,$,null),E($,z),E($,A),E($,D),q(O,$,null),E(h,P),q(R,h,null),K=!0,X||(Q=f(F,"keydown",e[3]),X=!0)},p(e,[s]){if(0&s){let t;for(V=["editorjs","header+embed","table+alert","checklist+list","simple-image+link"],t=0;t<5;t+=1){const l=J(e,V,t);W[t]?W[t].p(l,s):(W[t]=U(l),W[t].c(),W[t].m(a.parentNode,a))}for(;t<5;t+=1)W[t].d(1)}const t={};1&s&&(t.theme=e[0]),1024&s&&(t.$$scope={dirty:s,ctx:e}),C.$set(t);const l={};1024&s&&(l.$$scope={dirty:s,ctx:e}),O.$set(l)},i(e){K||(m(S.$$.fragment,e),m(C.$$.fragment,e),m(O.$$.fragment,e),m(R.$$.fragment,e),K=!0)},o(e){u(S.$$.fragment,e),u(C.$$.fragment,e),u(O.$$.fragment,e),u(R.$$.fragment,e),K=!1},d(e){c(s),M(W,e),c(a),e&&c(d),e&&c(h),L(S),L(C),L(O),L(R),X=!1,Q()}}}function X(e,s,t){let a;S(e,O,(e=>t(6,a=e)));let l,n,r="#0000";const c=async()=>{const e=await editor.save();if(e!==n)return t(0,r="#f44"),n=e,A(mainEditor.dataset.id,e).then((e=>t(0,r="#0000"))).catch(console.log),0};N((()=>{window.mainEditor=ƒ("#editorOfNotes"),l={header:Header,alert:Alert,image:SimpleImage,list:List,link:{class:LinkTool,config:{endpoint:z+"requestMetadata"}},embed:Embed,table:Table,checklist:Checklist},window.editor=new EditorJS({holder:"editorOfNotes",tools:l,data:a})}));return[r,c,()=>D(mainEditor.dataset.id),e=>{e.metaKey&&83===e.keyCode&&(e.preventDefault(),c())}]}export default class extends e{constructor(e){super(),s(this,e,X,K,t,{})}}
